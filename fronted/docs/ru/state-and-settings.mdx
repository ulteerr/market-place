import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Docs/Frontend/RU/State and Settings" />

# Состояние и настройки

## Модель состояния

- Локальное состояние страницы остаётся в области page/component.
- Межстраничное поведенческое состояние выносится в composables.
- Пользовательские настройки синхронизируются между сервером и клиентским runtime.

## Текущие общие зоны

- Auth user/token state.
- Пользовательские UI-настройки:
  - theme
  - сворачивание меню
  - предпочтения admin table/card
  - состояние раскрытия разделов навигации

## Модель хранения

- Auth-данные сохраняются в cookies.
- Не-auth UI-настройки при необходимости могут храниться в local storage.
- Для авторизованных пользователей серверные настройки остаются каноничным источником.

## Правила

- Не дублировать одну и ту же настройку в нескольких слоях без явного разрешения конфликтов.
- Серверные настройки применять после успешного refresh пользователя.
- При потере авторизации безопасно очищать auth-зависимое локальное UI-состояние.
