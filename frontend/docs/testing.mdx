import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Docs/Frontend/Testing" />

<div class="doc-locale-en">

# Testing Strategy

## Test types

- Unit tests: `vitest`
- End-to-end tests: `playwright` (chrome, firefox, webkit profile)

## Commands

- Full frontend test flow: `make front-test`
- Unit only: `make front-npm cmd="run test:unit"`
- E2E only: `make front-npm cmd="run test:e2e"`
- Storybook build check: `make front-npm cmd="run build-storybook"`

## Quality gates

- New business behavior should be covered by at least one automated test.
- Auth/session behavior changes require explicit regression checks.
- Admin navigation and CRUD critical paths should remain e2e-covered.
- Reusable UI components should have Storybook stories with canonical states.

## Storybook and tests

- Storybook documents component behavior.
- Storybook `play` scenarios verify critical UI interactions on component level.
- E2E validates integrated behavior in real routes.
- They complement each other and should evolve together.

</div>

<div class="doc-locale-ru">

# Стратегия тестирования

## Типы тестов

- Unit tests: `vitest`
- End-to-end tests: `playwright` (chrome, firefox, webkit)

## Команды

- Полный frontend-flow: `make front-test`
- Только unit: `make front-npm cmd="run test:unit"`
- Только e2e: `make front-npm cmd="run test:e2e"`
- Проверка сборки Storybook: `make front-npm cmd="run build-storybook"`

## Quality gates

- Новое бизнес-поведение должно быть покрыто минимум одним автотестом.
- Изменения auth/session требуют явной регрессионной проверки.
- Критичные admin navigation и CRUD-пути должны оставаться покрыты e2e-тестами.
- Переиспользуемые UI-компоненты должны иметь canonical stories в Storybook.

## Storybook и тесты

- Storybook документирует поведение компонентов.
- `play`-сценарии Storybook проверяют критичные UI-интеракции на уровне компонентов.
- E2E проверяет интегрированное поведение на реальных маршрутах.
- Эти подходы дополняют друг друга и должны развиваться синхронно.

</div>
