import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Docs/Frontend/EN/Data and API" />

# Data and API Integration

## API access pattern

- `composables/useApi.ts` provides configured fetch client.
- Feature composables call API endpoints and map responses for pages/components.
- Authorization header is derived from auth cookie state.

## Composable responsibilities

- Handle request parameters and response parsing.
- Provide typed return values where practical.
- Normalize backend-specific payload shapes before exposing to UI.
- Surface failures with actionable error messages.

## Error handling principles

- Transport errors and validation errors are treated differently.
- Logout clears local auth state even when backend logout call fails.
- UI should not depend on raw backend error formats.

## API evolution workflow

1. Backend/OpenAPI contract changes.
2. Frontend composables and UI adapters are updated.
3. E2E and unit tests updated for behavior changes.
4. Frontend docs updated when integration contract changes.
