openapi: 3.0.3

info:
  title: Marketplace API
  version: 1.0.0

servers:
  - url: http://localhost:8080
    description: Local backend (nginx)

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: Sanctum

security:
  - bearerAuth: []

paths:
  /api/auth/login:
    $ref: ./modules/auth.yaml#/login

  /api/auth/register:
    $ref: ./modules/auth.yaml#/register

  /api/me:
    $ref: ./modules/users.yaml#/me

  /api/me/password:
    $ref: ./modules/users.yaml#/me_update_password
  
  /api/me/settings:
    $ref: ./modules/users.yaml#/me_update_settings

  /api/me/settings/stream:
    $ref: ./modules/users.yaml#/me_settings_stream

  /api/admin/users:
    $ref: ./modules/users.yaml#/admin_users

  /api/admin/users/{id}:
    $ref: ./modules/users.yaml#/admin_users_by_id

  /api/admin/roles:
    $ref: ./modules/users.yaml#/admin_roles

  /api/admin/roles/{id}:
    $ref: ./modules/users.yaml#/admin_roles_by_id
