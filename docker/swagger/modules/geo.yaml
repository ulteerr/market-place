geo_countries:
  get:
    tags: [Geo]
    summary: List countries
    security:
      - bearerAuth: []
    parameters:
      - name: search
        in: query
        required: false
        schema:
          type: string
    responses:
      '200':
        description: Countries list
        content:
          application/json:
            schema:
              $ref: ../schemas/geo.yaml#/components/schemas/GeoCountriesResponse
      '401':
        $ref: ../errors.yaml#/UnauthorizedError

geo_regions:
  get:
    tags: [Geo]
    summary: List regions
    security:
      - bearerAuth: []
    parameters:
      - name: country_id
        in: query
        required: false
        schema:
          type: string
          format: uuid
      - name: search
        in: query
        required: false
        schema:
          type: string
    responses:
      '200':
        description: Regions list
        content:
          application/json:
            schema:
              $ref: ../schemas/geo.yaml#/components/schemas/GeoRegionsResponse
      '401':
        $ref: ../errors.yaml#/UnauthorizedError

geo_cities:
  get:
    tags: [Geo]
    summary: List cities
    security:
      - bearerAuth: []
    parameters:
      - name: country_id
        in: query
        required: false
        schema:
          type: string
          format: uuid
      - name: region_id
        in: query
        required: false
        schema:
          type: string
          format: uuid
      - name: search
        in: query
        required: false
        schema:
          type: string
    responses:
      '200':
        description: Cities list
        content:
          application/json:
            schema:
              $ref: ../schemas/geo.yaml#/components/schemas/GeoCitiesResponse
      '401':
        $ref: ../errors.yaml#/UnauthorizedError

geo_districts:
  get:
    tags: [Geo]
    summary: List districts
    security:
      - bearerAuth: []
    parameters:
      - name: city_id
        in: query
        required: false
        schema:
          type: string
          format: uuid
      - name: search
        in: query
        required: false
        schema:
          type: string
    responses:
      '200':
        description: Districts list
        content:
          application/json:
            schema:
              $ref: ../schemas/geo.yaml#/components/schemas/GeoDistrictsResponse
      '401':
        $ref: ../errors.yaml#/UnauthorizedError

geo_metro_lines:
  get:
    tags: [Geo]
    summary: List metro lines
    security:
      - bearerAuth: []
    parameters:
      - name: city_id
        in: query
        required: false
        schema:
          type: string
          format: uuid
      - name: search
        in: query
        required: false
        schema:
          type: string
    responses:
      '200':
        description: Metro lines list
        content:
          application/json:
            schema:
              $ref: ../schemas/geo.yaml#/components/schemas/GeoMetroLinesResponse
      '401':
        $ref: ../errors.yaml#/UnauthorizedError

geo_metro_stations:
  get:
    tags: [Geo]
    summary: List metro stations
    security:
      - bearerAuth: []
    parameters:
      - name: city_id
        in: query
        required: false
        schema:
          type: string
          format: uuid
      - name: metro_line_id
        in: query
        required: false
        schema:
          type: string
          format: uuid
      - name: search
        in: query
        required: false
        schema:
          type: string
    responses:
      '200':
        description: Metro stations list
        content:
          application/json:
            schema:
              $ref: ../schemas/geo.yaml#/components/schemas/GeoMetroStationsResponse
      '401':
        $ref: ../errors.yaml#/UnauthorizedError

admin_geo_countries:
  get:
    tags: [Admin Geo]
    summary: List countries (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Paginated countries list
        content:
          application/json:
            schema:
              type: object
              required: [status, data]
              properties:
                status:
                  type: string
                  example: ok
                data:
                  type: object
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
  post:
    tags: [Admin Geo]
    summary: Create country (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required: [name]
            properties:
              name:
                type: string
              iso_code:
                type: string
                nullable: true
    responses:
      '201':
        description: Country created
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '422':
        $ref: ../errors.yaml#/ValidationError

admin_geo_countries_by_id:
  parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
  get:
    tags: [Admin Geo]
    summary: Get country by id (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Country details
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
  patch:
    tags: [Admin Geo]
    summary: Update country (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              iso_code:
                type: string
                nullable: true
    responses:
      '200':
        description: Country updated
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
      '422':
        $ref: ../errors.yaml#/ValidationError
  delete:
    tags: [Admin Geo]
    summary: Delete country (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Country deleted
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError

admin_geo_regions:
  get:
    tags: [Admin Geo]
    summary: List regions (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Paginated regions list
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
  post:
    tags: [Admin Geo]
    summary: Create region (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required: [name, country_id]
            properties:
              name:
                type: string
              country_id:
                type: string
                format: uuid
    responses:
      '201':
        description: Region created
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '422':
        $ref: ../errors.yaml#/ValidationError

admin_geo_regions_by_id:
  parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
  get:
    tags: [Admin Geo]
    summary: Get region by id (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Region details
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
  patch:
    tags: [Admin Geo]
    summary: Update region (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              country_id:
                type: string
                format: uuid
    responses:
      '200':
        description: Region updated
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
      '422':
        $ref: ../errors.yaml#/ValidationError
  delete:
    tags: [Admin Geo]
    summary: Delete region (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Region deleted
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError

admin_geo_cities:
  get:
    tags: [Admin Geo]
    summary: List cities (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Paginated cities list
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
  post:
    tags: [Admin Geo]
    summary: Create city (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required: [name]
            properties:
              name:
                type: string
              country_id:
                type: string
                format: uuid
                nullable: true
              region_id:
                type: string
                format: uuid
                nullable: true
    responses:
      '201':
        description: City created
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '422':
        $ref: ../errors.yaml#/ValidationError

admin_geo_cities_by_id:
  parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
  get:
    tags: [Admin Geo]
    summary: Get city by id (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: City details
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
  patch:
    tags: [Admin Geo]
    summary: Update city (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              country_id:
                type: string
                format: uuid
                nullable: true
              region_id:
                type: string
                format: uuid
                nullable: true
    responses:
      '200':
        description: City updated
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
      '422':
        $ref: ../errors.yaml#/ValidationError
  delete:
    tags: [Admin Geo]
    summary: Delete city (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: City deleted
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError

admin_geo_districts:
  get:
    tags: [Admin Geo]
    summary: List districts (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Paginated districts list
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
  post:
    tags: [Admin Geo]
    summary: Create district (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required: [name, city_id]
            properties:
              name:
                type: string
              city_id:
                type: string
                format: uuid
    responses:
      '201':
        description: District created
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '422':
        $ref: ../errors.yaml#/ValidationError

admin_geo_districts_by_id:
  parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
  get:
    tags: [Admin Geo]
    summary: Get district by id (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: District details
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
  patch:
    tags: [Admin Geo]
    summary: Update district (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              city_id:
                type: string
                format: uuid
    responses:
      '200':
        description: District updated
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
      '422':
        $ref: ../errors.yaml#/ValidationError
  delete:
    tags: [Admin Geo]
    summary: Delete district (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: District deleted
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError

admin_geo_metro_lines:
  get:
    tags: [Admin Geo]
    summary: List metro lines (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Paginated metro lines list
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
  post:
    tags: [Admin Geo]
    summary: Create metro line (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required: [name, city_id, source]
            properties:
              name:
                type: string
              external_id:
                type: string
                nullable: true
              line_id:
                type: string
                nullable: true
              color:
                type: string
                nullable: true
              city_id:
                type: string
                format: uuid
              source:
                type: string
    responses:
      '201':
        description: Metro line created
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '422':
        $ref: ../errors.yaml#/ValidationError

admin_geo_metro_lines_by_id:
  parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
  get:
    tags: [Admin Geo]
    summary: Get metro line by id (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Metro line details
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
  patch:
    tags: [Admin Geo]
    summary: Update metro line (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              external_id:
                type: string
                nullable: true
              line_id:
                type: string
                nullable: true
              color:
                type: string
                nullable: true
              city_id:
                type: string
                format: uuid
              source:
                type: string
    responses:
      '200':
        description: Metro line updated
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
      '422':
        $ref: ../errors.yaml#/ValidationError
  delete:
    tags: [Admin Geo]
    summary: Delete metro line (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Metro line deleted
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError

admin_geo_metro_stations:
  get:
    tags: [Admin Geo]
    summary: List metro stations (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Paginated metro stations list
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
  post:
    tags: [Admin Geo]
    summary: Create metro station (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required: [name, metro_line_id, city_id, source]
            properties:
              name:
                type: string
              external_id:
                type: string
                nullable: true
              line_id:
                type: string
                nullable: true
              geo_lat:
                type: number
                format: float
                nullable: true
              geo_lon:
                type: number
                format: float
                nullable: true
              is_closed:
                type: boolean
                nullable: true
              metro_line_id:
                type: string
                format: uuid
              city_id:
                type: string
                format: uuid
              source:
                type: string
    responses:
      '201':
        description: Metro station created
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '422':
        $ref: ../errors.yaml#/ValidationError

admin_geo_metro_stations_by_id:
  parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
  get:
    tags: [Admin Geo]
    summary: Get metro station by id (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Metro station details
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
  patch:
    tags: [Admin Geo]
    summary: Update metro station (admin)
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              external_id:
                type: string
                nullable: true
              line_id:
                type: string
                nullable: true
              geo_lat:
                type: number
                format: float
                nullable: true
              geo_lon:
                type: number
                format: float
                nullable: true
              is_closed:
                type: boolean
                nullable: true
              metro_line_id:
                type: string
                format: uuid
              city_id:
                type: string
                format: uuid
              source:
                type: string
    responses:
      '200':
        description: Metro station updated
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
      '404':
        $ref: ../errors.yaml#/NotFoundError
      '422':
        $ref: ../errors.yaml#/ValidationError
  delete:
    tags: [Admin Geo]
    summary: Delete metro station (admin)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Metro station deleted
      '401':
        $ref: ../errors.yaml#/UnauthorizedError
      '403':
        $ref: ../errors.yaml#/ForbiddenError
